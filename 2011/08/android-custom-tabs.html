<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Android应用开发笔记——打造自己的标签栏 | 闲趣</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Android应用开发笔记——打造自己的标签栏" />
<meta name="author" content="毅明" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="注：本文为“第二届 Google 暑期大学生博客分享大赛 - 2011 Android 成长篇”参赛博文。" />
<meta property="og:description" content="注：本文为“第二届 Google 暑期大学生博客分享大赛 - 2011 Android 成长篇”参赛博文。" />
<link rel="canonical" href="https://blog.xianqu.org/2011/08/android-custom-tabs" />
<meta property="og:url" content="https://blog.xianqu.org/2011/08/android-custom-tabs" />
<meta property="og:site_name" content="闲趣" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2011-08-14T15:02:46+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Android应用开发笔记——打造自己的标签栏" />
<script type="application/ld+json">
{"description":"注：本文为“第二届 Google 暑期大学生博客分享大赛 - 2011 Android 成长篇”参赛博文。","url":"https://blog.xianqu.org/2011/08/android-custom-tabs","@type":"BlogPosting","headline":"Android应用开发笔记——打造自己的标签栏","dateModified":"2011-08-14T15:02:46+00:00","datePublished":"2011-08-14T15:02:46+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.xianqu.org/2011/08/android-custom-tabs"},"author":{"@type":"Person","name":"毅明"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://blog.xianqu.org/feed.xml" title="闲趣" /><script async src="https://www.googletagmanager.com/gtag/js?id=UA-26438443-1"></script>
<script>
  window['ga-disable-UA-26438443-1'] = window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1";
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-26438443-1');
</script>
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">闲趣</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">关于</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Android应用开发笔记——打造自己的标签栏</h1>
    <p class="post-meta"><time class="dt-published" datetime="2011-08-14T15:02:46+00:00" itemprop="datePublished">
        Aug 14, 2011
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>注：本文为“<a href="http://www.google.com/daxue/blog">第二届 Google 暑期大学生博客分享大赛 - 2011 Android 成长篇</a>”参赛博文。</p>

<p>今年暑假我和一群朋友参加了某金融软件开发比赛。我们团队打算制定一个基于条形码的移动支付解决方案（点子诞生于 5 月份的一天，后来我们发现想做的东西已经有了——Google Wallet。囧），软件系统为 C/S 架构，我负责手机客户端部分。考虑到开放性和技术门槛我们选择了 Android 平台。</p>

<p>虽然以前也写过一点 Android 程序，但绝大多数都是所谓的“玩具”，没什么实质性用途。因此，这些玩具们无不例外地拥有着极其简陋的界面。几乎所有的控件都是原生态，纯纯的 Android~</p>

<p>两年前，当 Android 刚出道不久，当各种入门书籍还在漫天飞舞的时候，一款软件穿着原生控件走出去还稍显神气，毕竟那时成型的应用很少。但是，两年后，在这个绿色机器人摧城拔寨之时，如果一款 Android 应用没有好用、漂亮的 UI，你都不好意思说自己在做 Android 应用开发。我觉得如果不在原有控件的基础上做一定的拓展，想要写出优美的界面是难以想象的。</p>

<p>我们团队的软件很大程度上参考了 Twitter，淘宝一类的客户端。我们想在屏幕底部弄一个标签栏（Tabs），这样用户就可以很方便地在不同的页面间切换了。</p>

<!--more-->

<p>作为 Android 新手，我当时只知道一种方法：使用 Android 自带的 TabHost 容器。</p>

<p>传统的 TabHost 的使用效果大概是这样的：</p>

<p><img src="/images/2011-08-dianping.jpg" alt="" /></p>

<p><img src="/images/2011-08-twidroyd.jpg" alt="" /></p>

<p>这是大众点评网早期的 Android 客户端，标签栏使用了系统自带的控件。然而这个效果和我们看到的很多底部标签栏相差甚远（右图，twitter 客户端 Twidroyd 截图）。</p>

<p>他们到底是怎么实现的呢？为此，我在网上查了不少资料，大致有以下种方案：</p>

<ul>
  <li>Button Bar 实现；</li>
  <li>修改 TabWidget。</li>
</ul>

<h2 id="1-button-bar">1 Button Bar</h2>

<p><strong>基本思路</strong>：用一个 Layout 来呈现整个标签栏，在上面添加若干按钮作为标签，整个 Layout 作为一个部件 include 到各个界面的布局里去。当用户点击按钮时，切换到相应的界面（多个 Activity 间的切换）。</p>

<p>在 Android 3.0 以前的版本里，这种方案多用于制作动作栏。3.0 后出现了 ActionBar 控件，为开发者省了不少事。希望手机版的 Android 也早点加入。</p>

<p><img src="/images/2011-08-tabs-1.png" alt="" /></p>

<p><img src="/images/2011-08-tabs-2.png" alt="" /></p>

<p><strong>优点</strong>：实现了你想要的效果，外观很容易定制。</p>

<p><strong>缺点</strong>：标签栏实际不是一个，有多个，他们分别属于不同的界面（从属关系）。这导致了在界面切换的时候，标签栏会随着他的界面（或者说 Activity）“动”，而非常驻在底部。</p>

<p><strong>改进</strong>：有一种改进方式是，用一个 Activity 来控制整个主界面，标签栏 include 在这个主界面的布局里，点击标签时显示相应的 View（实际上是在一个 Activity 上多个 View 的切换）。这样就保证了标签栏只有一个，而且不会随着标签切换而动来动去。当然，缺点也是显而易见的，当标签过多的时候，这个 Activity 会变得相当复杂。呵呵~万一有个变动，你懂的。</p>

<h2 id="2-修改-tabwidget">2 修改 TabWidget</h2>

<p><strong>基本思路</strong>：在于既然 Android 是开源的，我们就能大改特该，让它听话。我们把 TabWidget 移到底部，然后修改它的外观。</p>

<p><strong>优点</strong>：达到了目的，继承了 TabWidget 的基本功能，可复用，使用简单；</p>

<p><strong>缺点</strong>：需要研究不少 Android 资料，查 references 查到眼花，费九牛二虎之力去掉分割线，底部白线之类的东西，完成外观定制。</p>

<p>这个方法貌似有不少人用，这里有几篇中文资料（其实都差不多啦，中文圈你抄我我抄你的。。。唉）：</p>

<ul>
  <li><a href="http://www.youmi.net/bbs/thread-102-1-4.html">http://www.youmi.net/bbs/thread-102-1-4.html</a></li>
  <li><a href="http://sillydong.com/myjava/android-tabwidget.html">http://sillydong.com/myjava/android-tabwidget.html</a></li>
</ul>

<h2 id="3-奇技淫巧">3 奇技淫巧</h2>

<p>如你所见，前面说过的方法都能达到目的。但是，Button Bar 的方式看上去太 dirty 了，修改 TabWidget 又太麻烦了。有什么方式能避免这些不必要的麻烦，把两者优点结合起来呢？</p>

<p>我想到了 Android 控件的一个属性： <code class="language-plaintext highlighter-rouge">android:visibility="gone"</code>。这简直就是救命稻草！它可以让你的控件不显示，而且还不占地方。这有什么用呢？这意味着，我们可以照样用 TabHost，可以照样放 TabWidget，只是，只是我们不把 TabWidget 显示出来。它现在是隐形的标签栏，the real tabs。我们所要做的是：安置一个“傀儡”标签栏，让它来和用户接触。这是不是有点像 Design Pattern 里的“Proxy”呢？</p>

<p>这个方案算是投机取巧之作，很可惜，我不是第一个想到的，你可以看<a href="http://blog.csdn.net/sdhjob/article/details/6312512">这里</a>。历史总是惊人的相似啊！</p>

<p>标签容器布局，大致代码如下：</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0"; encoding="utf-8"?&gt;</span>

<span class="c">&lt;!-- TabHost --&gt;</span>
<span class="nt">&lt;TabHost</span>
	<span class="err">xmlns:"</span><span class="na">android=</span><span class="s">http://schemas.android.com/apk/res/android"</span>
	<span class="na">android:layout_width=</span><span class="s">"fill_parent"</span>
	<span class="na">android:layout_height=</span><span class="s">"fill_parent"</span>
	<span class="na">android:id=</span><span class="s">"@android:id/tabhost"</span><span class="nt">&gt;</span>

	<span class="nt">&lt;LinearLayout</span>
		<span class="na">android:orientation=</span><span class="s">"vertical"</span>
    	<span class="na">android:layout_width=</span><span class="s">"fill_parent"</span>
    	<span class="na">android:layout_height=</span><span class="s">"fill_parent"</span><span class="nt">&gt;</span>

    <span class="c">&lt;!-- 隐藏的TabWidget,visibility="gone" --&gt;</span>
		<span class="nt">&lt;TabWidget</span>
			<span class="na">android:id=</span><span class="s">"@android:id/tabs"</span>
			<span class="na">android:layout_width=</span><span class="s">"fill_parent"</span>
			<span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
			<span class="na">android:visibility=</span><span class="s">"gone"</span>	<span class="nt">/&gt;</span>

  		<span class="c">&lt;!-- 标签内容 --&gt;</span>
		<span class="nt">&lt;FrameLayout</span>
			<span class="na">android:id=</span><span class="s">"@android:id/tabcontent"</span>
			<span class="na">android:layout_width=</span><span class="s">"fill_parent"</span>
			<span class="na">android:layout_height=</span><span class="s">"0.0dip"</span>
			<span class="na">android:layout_weight=</span><span class="s">"1.0"</span><span class="nt">/&gt;</span>

		<span class="c">&lt;!-- 用户可见的“tabs”实际上是一组按钮--&gt;</span>
		<span class="c">&lt;!-- 注意：checkedButton=“@+id/tab1“，这使得默认选中第一个按钮 --&gt;</span>
		<span class="nt">&lt;RadioGroup</span>
			<span class="na">android:id=</span><span class="s">"@+id/tab_group"</span>
			<span class="na">android:layout_width=</span><span class="s">"fill_parent"</span>
			<span class="na">android:layout_height=</span><span class="s">"50dp"</span>
			<span class="na">android:gravity=</span><span class="s">"center_vertical"</span>
			<span class="na">android:layout_gravity=</span><span class="s">"bottom"</span>
			<span class="na">android:orientation=</span><span class="s">"horizontal"</span>
			<span class="na">android:background=</span><span class="s">"@drawable/tab_bar_bg"</span>
			<span class="na">android:checkedButton=</span><span class="s">"@+id/tab1"</span><span class="nt">&gt;&lt;/p&gt;</span>

      <span class="c">&lt;!-- 第一个标签，注意button属性设置成null，以此去掉自带的radio button --&gt;</span>
			<span class="c">&lt;!-- 注意：id="@id/tab1"，为什么不是+id呢？这个和加载先后有关系,Google一下吧 --&gt;</span>
			<span class="nt">&lt;RadioButton</span>
				<span class="na">android:id=</span><span class="s">"@id/tab1"</span>
				<span class="na">android:tag=</span><span class="s">"tab1"</span>
				<span class="na">android:layout_width=</span><span class="s">"fill_parent"</span>
	  			<span class="na">android:layout_height=</span><span class="s">"fill_parent"</span>
	  			<span class="na">android:layout_weight=</span><span class="s">"1.0"</span>
				<span class="na">android:layout_marginTop=</span><span class="s">"1.0dip"</span>
				<span class="na">android:text=</span><span class="s">"Tab 1"</span>
				<span class="na">android:button=</span><span class="s">"@null"</span>
				<span class="na">android:gravity=</span><span class="s">"center"</span>
				<span class="na">android:background=</span><span class="s">"@drawable/tab_bg_selector"</span><span class="nt">/&gt;</span>

			<span class="nt">&lt;RadioButton</span>
				<span class="na">android:id=</span><span class="s">"@+id/tab2"</span>
				<span class="na">android:layout_width=</span><span class="s">"fill_parent"</span>
	  			<span class="na">android:layout_height=</span><span class="s">"fill_parent"</span>
	  			<span class="na">android:layout_weight=</span><span class="s">"1.0"</span>
				<span class="na">android:layout_marginTop=</span><span class="s">"1.0dip"</span>
				<span class="na">android:text=</span><span class="s">"Tab 2"</span>
				<span class="na">android:button=</span><span class="s">"@null"</span>
				<span class="na">android:gravity=</span><span class="s">"center"</span>
				<span class="na">android:background=</span><span class="s">"@drawable/tab_bg_selector"</span><span class="nt">/&gt;</span>

			<span class="nt">&lt;RadioButton</span>
				<span class="na">android:id=</span><span class="s">"@+id/tab3"</span>
				<span class="na">android:layout_width=</span><span class="s">"fill_parent"</span>
	  			<span class="na">android:layout_height=</span><span class="s">"fill_parent"</span>
	  			<span class="na">android:layout_weight=</span><span class="s">"1.0"</span>
				<span class="na">android:layout_marginTop=</span><span class="s">"1.0dip"</span>
				<span class="na">android:text=</span><span class="s">"Tab 3"</span>
				<span class="na">android:button=</span><span class="s">"@null"</span>
				<span class="na">android:gravity=</span><span class="s">"center"</span>
				<span class="na">android:background=</span><span class="s">"@drawable/tab_bg_selector"</span><span class="nt">/&gt;</span>

		<span class="nt">&lt;/RadioGroup&gt;</span>
	<span class="nt">&lt;/LinearLayout&gt;</span>
<span class="nt">&lt;/TabHost&gt;</span>
</code></pre></div></div>

<p>RadioGroup 就是底部的标签栏，背景进行了自定义。我在这边 demo 里用了 9.png 格式的图，嗯，你会经常用它的。
此外，标签被选中和未被选中的关键在于<code class="language-plaintext highlighter-rouge">android:background="@drawable/tab_bg_selector"</code>这句。</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;selector</span>
  <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span><span class="nt">&gt;&lt;/p&gt;</span>

		<span class="nt">&lt;item</span>
    	<span class="na">android:state_focused=</span><span class="s">"true"</span>
    	<span class="na">android:drawable=</span><span class="s">"@drawable/tab_bg_focused"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;item</span>
    	<span class="na">android:state_pressed=</span><span class="s">"true"</span>
    	<span class="na">android:drawable=</span><span class="s">"@drawable/tab_bg_selected"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;item</span>
    	<span class="na">android:state_checked=</span><span class="s">"true"</span>
    	<span class="na">android:drawable=</span><span class="s">"@drawable/tab_bg_selected"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;/selector&gt;</span>
</code></pre></div></div>

<p>下面列出加载它的 Activity 代码：</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TabDemoActivity</span> <span class="kd">extends</span> <span class="nc">TabActivity</span> <span class="o">{</span>

	<span class="kd">private</span> <span class="nc">TabHost</span> <span class="n">tabhost</span><span class="o">;</span>
	<span class="kd">private</span> <span class="nc">RadioGroup</span> <span class="n">tabGroup</span><span class="o">;</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="nc">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>

		<span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
		<span class="n">setContentView</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">main</span><span class="o">);</span>

		<span class="n">tabhost</span> <span class="o">=</span> <span class="n">getTabHost</span><span class="o">();</span>
		<span class="n">tabGroup</span> <span class="o">=</span> <span class="o">(</span><span class="nc">RadioGroup</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tab_group</span><span class="o">);</span>

		<span class="c1">// 这里新建3个的Intent用于Activity的切换</span>
		<span class="nc">Intent</span> <span class="n">tab1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Intent</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="nc">TabOneActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
		<span class="nc">Intent</span> <span class="n">tab2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Intent</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="nc">TabTwoActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
		<span class="nc">Intent</span> <span class="n">tab3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Intent</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="nc">TabThreeActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

		<span class="c1">// 向tabhost里添加tab</span>
		<span class="n">tabhost</span><span class="o">.</span><span class="na">addTab</span><span class="o">(</span><span class="n">tabhost</span><span class="o">.</span><span class="na">newTabSpec</span><span class="o">(</span><span class="s">"TAB1"</span><span class="o">).</span><span class="na">setIndicator</span><span class="o">(</span><span class="s">"Tab 1"</span><span class="o">)</span>
				<span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">tab1</span><span class="o">));</span>
		<span class="n">tabhost</span><span class="o">.</span><span class="na">addTab</span><span class="o">(</span><span class="n">tabhost</span><span class="o">.</span><span class="na">newTabSpec</span><span class="o">(</span><span class="s">"TAB2"</span><span class="o">).</span><span class="na">setIndicator</span><span class="o">(</span><span class="s">"Tab 2"</span><span class="o">)</span>
				<span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">tab2</span><span class="o">));</span>
		<span class="n">tabhost</span><span class="o">.</span><span class="na">addTab</span><span class="o">(</span><span class="n">tabhost</span><span class="o">.</span><span class="na">newTabSpec</span><span class="o">(</span><span class="s">"TAB3"</span><span class="o">).</span><span class="na">setIndicator</span><span class="o">(</span><span class="s">"Tab 3"</span><span class="o">)</span>
				<span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">tab3</span><span class="o">));</span>

		<span class="c1">// 给各个按钮设置监听</span>
		<span class="n">tabGroup</span><span class="o">.</span><span class="na">setOnCheckedChangeListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">OnTabChangeListener</span><span class="o">());</span>

	<span class="o">}</span>

	<span class="kd">private</span> <span class="kd">class</span> <span class="nc">OnTabChangeListener</span> <span class="kd">implements</span> <span class="nc">OnCheckedChangeListener</span> <span class="o">{</span>

		<span class="nd">@Override</span>
		<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCheckedChanged</span><span class="o">(</span><span class="nc">RadioGroup</span> <span class="n">group</span><span class="o">,</span> <span class="kt">int</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
			<span class="c1">// TODO Auto-generated method stub</span>

			<span class="c1">//尤其需要注意这里，setCurrentTabByTag方法是纽带</span>
			<span class="k">switch</span> <span class="o">(</span><span class="n">id</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">case</span> <span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tab1</span><span class="o">:</span>
				<span class="n">tabhost</span><span class="o">.</span><span class="na">setCurrentTabByTag</span><span class="o">(</span><span class="s">"TAB1"</span><span class="o">);</span>
				<span class="k">break</span><span class="o">;</span>
			<span class="k">case</span> <span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tab2</span><span class="o">:</span>
				<span class="n">tabhost</span><span class="o">.</span><span class="na">setCurrentTabByTag</span><span class="o">(</span><span class="s">"TAB2"</span><span class="o">);</span>
				<span class="k">break</span><span class="o">;</span>
			<span class="k">case</span> <span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tab3</span><span class="o">:</span>
				<span class="n">tabhost</span><span class="o">.</span><span class="na">setCurrentTabByTag</span><span class="o">(</span><span class="s">"TAB3"</span><span class="o">);</span>
				<span class="k">break</span><span class="o">;</span>
			<span class="o">}</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>最后，为演示起见我们写 3 个装入容器的 Activity。<code class="language-plaintext highlighter-rouge">TabOneActivity</code>，<code class="language-plaintext highlighter-rouge">TabTwoActivity</code>，<code class="language-plaintext highlighter-rouge">TabThreeActivity</code>。</p>

<p>比如</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TabOneActivity</span> <span class="kd">extends</span> <span class="nc">Activity</span> <span class="o">{</span>

	<span class="nd">@Override</span>
	<span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="nc">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// TODO Auto-generated method stub</span>
		<span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
		<span class="n">setContentView</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">content</span><span class="o">);</span>
		<span class="nc">TextView</span> <span class="n">text</span><span class="o">=(</span><span class="nc">TextView</span><span class="o">)</span><span class="n">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">text</span><span class="o">);</span>
		<span class="n">text</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"This is tab 1."</span><span class="o">);</span>

	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>他们的 layout 很简单，在 LinearLayout 里就放了个 TextView。。。这里就不贴了。</p>

<p>最终效果图：</p>

<p><img src="/images/2011-08-tabs-demo.png" alt="" /></p>

<p>当然这只是一个 Demo，要做得更漂亮你需要在细节处好好作文章，譬如，美化文字，添加图标等等。</p>

<p><strong>题外话</strong>：我觉得美工是你绝对不能忽视的问题，因为没有优秀的图片，你做出来的东西看上去要多渣就有多渣。你弄不出高光效果，你弄不好优雅的渐变，更做不出漂亮的图标。程序猿们，还在觉得自己比美工高级么？呵呵。</p>

  </div><a class="u-url" href="/2011/08/android-custom-tabs" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
        <ul class="contact-list">
          <li class="p-name">毅明</li>
          <li><a class="u-email" href="mailto:yimingnju@gmail.com">yimingnju@gmail.com</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <p>毅明的个人博客。</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/yimingtang" title="yimingtang"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/yiming_t" title="yiming_t"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
